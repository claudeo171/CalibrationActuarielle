@using OnlineCalibrator.Service
@using OnlineCalibrator.Shared;
@using System
@using System.Text
@using System.IO
@using System.Text.RegularExpressions
@using Microsoft.Extensions.Logging
@using OnlineCalibrator.Shared.MachineLearning
@using OnlineCalibrator.SharedPages.ViewModel
@using SkiaSharp;
@using Stochastique.Enums;
@using Stochastique;
@using LiveChartsCore.SkiaSharpView.Painting;
@using pax.BlazorChartJs
@inherits BasePage
@inject NavigationManager NavManager
@inject IJSRuntime js
@inject DonneeContainer donneeContainer
@page "/AnalyseCopula"

<nav class="navbar navbar-expand-lg navbar-light bg-light mynavbar" aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/Import">Import des données</a></li>
        <li class="breadcrumb-item"><a href="/CalibrateDistributionConjointe">Calibration des données conjointe (@DonneesImportes.NomDataConjointe1 - @DonneesImportes.NomDataConjointe2)</a></li>
        <li class="breadcrumb-item active">Indentification de la copule</li>
    </ol>
</nav>

<ComposantAnalyseCopule Donnees="@DonneesImportes.ActualDonneesPourAnalyseConjointe" DonneesImportes="@DonneesImportes" IsVisible=true />


@code {

    private DonneesImportes? DonneesImportes;

    protected override async void OnInitialized()
    {

        if (donneeContainer.Value != null)
        {
            DonneesImportes = donneeContainer.Value;
        }
        else
        {
            var data = await GetData("donneesImportes");
            DonneesImportes = DonneesImportes.FromMsgPack(data,EnvironementCalibration.EstMAUI);

        }

    }  
}
